import{r as s,j as t,a as C,u as M,b as Z,d as Re,P as $,e as O,f as L,g as Te,S as Ie,B as k,I as oe,c as ke}from"./assets/switch-DH4P1fG3.js";const X=s.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:C("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));X.displayName="Card";const De=s.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:C("flex flex-col space-y-1.5 p-6",e),...r}));De.displayName="CardHeader";const Le=s.forwardRef(({className:e,...r},o)=>t.jsx("h3",{ref:o,className:C("text-2xl font-semibold leading-none tracking-tight",e),...r}));Le.displayName="CardTitle";const Oe=s.forwardRef(({className:e,...r},o)=>t.jsx("p",{ref:o,className:C("text-sm text-muted-foreground",e),...r}));Oe.displayName="CardDescription";const Me=s.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:C("p-6 pt-0",e),...r}));Me.displayName="CardContent";const _e=s.forwardRef(({className:e,...r},o)=>t.jsx("div",{ref:o,className:C("flex items-center p-6 pt-0",e),...r}));_e.displayName="CardFooter";const le=s.forwardRef(({className:e,...r},o)=>t.jsx("textarea",{className:C("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r}));le.displayName="Textarea";function ze(e,r){return s.useReducer((o,a)=>r[o][a]??o,e)}var F=e=>{const{present:r,children:o}=e,a=We(r),n=typeof o=="function"?o({present:a.isPresent}):s.Children.only(o),l=M(a.ref,He(n));return typeof o=="function"||a.isPresent?s.cloneElement(n,{ref:l}):null};F.displayName="Presence";function We(e){const[r,o]=s.useState(),a=s.useRef({}),n=s.useRef(e),l=s.useRef("none"),h=e?"mounted":"unmounted",[i,c]=ze(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const d=V(a.current);l.current=i==="mounted"?d:"none"},[i]),Z(()=>{const d=a.current,u=n.current;if(u!==e){const f=l.current,x=V(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),Z(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,g=x=>{const R=V(a.current).includes(x.animationName);if(x.target===r&&R&&(c("ANIMATION_END"),!n.current)){const E=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=E)})}},f=x=>{x.target===r&&(l.current=V(a.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",g),r.addEventListener("animationend",g),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",g),r.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:s.useCallback(d=>{d&&(a.current=getComputedStyle(d)),o(d)},[])}}function V(e){return(e==null?void 0:e.animationName)||"none"}function He(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var Ue=s.createContext(void 0);function $e(e){const r=s.useContext(Ue);return e||r||"ltr"}function Ye(e,[r,o]){return Math.min(o,Math.max(r,e))}function Xe(e,r){return s.useReducer((o,a)=>r[o][a]??o,e)}var ee="ScrollArea",[ie,ut]=Re(ee),[Fe,N]=ie(ee),ce=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,type:a="hover",dir:n,scrollHideDelay:l=600,...h}=e,[i,c]=s.useState(null),[d,u]=s.useState(null),[g,f]=s.useState(null),[x,v]=s.useState(null),[R,E]=s.useState(null),[P,j]=s.useState(0),[_,z]=s.useState(0),[W,w]=s.useState(!1),[D,H]=s.useState(!1),b=M(r,T=>c(T)),y=$e(n);return t.jsx(Fe,{scope:o,type:a,dir:y,scrollHideDelay:l,scrollArea:i,viewport:d,onViewportChange:u,content:g,onContentChange:f,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:W,onScrollbarXEnabledChange:w,scrollbarY:R,onScrollbarYChange:E,scrollbarYEnabled:D,onScrollbarYEnabledChange:H,onCornerWidthChange:j,onCornerHeightChange:z,children:t.jsx($.div,{dir:y,...h,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});ce.displayName=ee;var de="ScrollAreaViewport",ue=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,children:a,asChild:n,nonce:l,...h}=e,i=N(de,o),c=s.useRef(null),d=M(r,c,i.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:l}),t.jsx($.div,{"data-radix-scroll-area-viewport":"",...h,asChild:n,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:tt({asChild:n,children:a},u=>t.jsx("div",{"data-radix-scroll-area-content":"",ref:i.onContentChange,style:{minWidth:i.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});ue.displayName=de;var A="ScrollAreaScrollbar",te=s.forwardRef((e,r)=>{const{forceMount:o,...a}=e,n=N(A,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:h}=n,i=e.orientation==="horizontal";return s.useEffect(()=>(i?l(!0):h(!0),()=>{i?l(!1):h(!1)}),[i,l,h]),n.type==="hover"?t.jsx(Ve,{...a,ref:r,forceMount:o}):n.type==="scroll"?t.jsx(Be,{...a,ref:r,forceMount:o}):n.type==="auto"?t.jsx(me,{...a,ref:r,forceMount:o}):n.type==="always"?t.jsx(re,{...a,ref:r}):null});te.displayName=A;var Ve=s.forwardRef((e,r)=>{const{forceMount:o,...a}=e,n=N(A,e.__scopeScrollArea),[l,h]=s.useState(!1);return s.useEffect(()=>{const i=n.scrollArea;let c=0;if(i){const d=()=>{window.clearTimeout(c),h(!0)},u=()=>{c=window.setTimeout(()=>h(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",d),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",d),i.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(F,{present:o||l,children:t.jsx(me,{"data-state":l?"visible":"hidden",...a,ref:r})})}),Be=s.forwardRef((e,r)=>{const{forceMount:o,...a}=e,n=N(A,e.__scopeScrollArea),l=e.orientation==="horizontal",h=J(()=>c("SCROLL_END"),100),[i,c]=Xe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return s.useEffect(()=>{if(i==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[i,n.scrollHideDelay,c]),s.useEffect(()=>{const d=n.viewport,u=l?"scrollLeft":"scrollTop";if(d){let g=d[u];const f=()=>{const x=d[u];g!==x&&(c("SCROLL"),h()),g=x};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,l,c,h]),t.jsx(F,{present:o||i!=="hidden",children:t.jsx(re,{"data-state":i==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:O(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:O(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),me=s.forwardRef((e,r)=>{const o=N(A,e.__scopeScrollArea),{forceMount:a,...n}=e,[l,h]=s.useState(!1),i=e.orientation==="horizontal",c=J(()=>{if(o.viewport){const d=o.viewport.offsetWidth<o.viewport.scrollWidth,u=o.viewport.offsetHeight<o.viewport.scrollHeight;h(i?d:u)}},10);return U(o.viewport,c),U(o.content,c),t.jsx(F,{present:a||l,children:t.jsx(re,{"data-state":l?"visible":"hidden",...n,ref:r})})}),re=s.forwardRef((e,r)=>{const{orientation:o="vertical",...a}=e,n=N(A,e.__scopeScrollArea),l=s.useRef(null),h=s.useRef(0),[i,c]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=pe(i.viewport,i.content),u={...a,sizes:i,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>l.current=f,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:f=>h.current=f};function g(f,x){return Ze(f,h.current,i,x)}return o==="horizontal"?t.jsx(Ke,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&l.current){const f=n.viewport.scrollLeft,x=se(f,i,n.dir);l.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=g(f,n.dir))}}):o==="vertical"?t.jsx(qe,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&l.current){const f=n.viewport.scrollTop,x=se(f,i);l.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=g(f))}}):null}),Ke=s.forwardRef((e,r)=>{const{sizes:o,onSizesChange:a,...n}=e,l=N(A,e.__scopeScrollArea),[h,i]=s.useState(),c=s.useRef(null),d=M(r,c,l.onScrollbarXChange);return s.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),t.jsx(fe,{"data-orientation":"horizontal",...n,ref:d,sizes:o,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":q(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,g)=>{if(l.viewport){const f=l.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),ve(f,g)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&h&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:K(h.paddingLeft),paddingEnd:K(h.paddingRight)}})}})}),qe=s.forwardRef((e,r)=>{const{sizes:o,onSizesChange:a,...n}=e,l=N(A,e.__scopeScrollArea),[h,i]=s.useState(),c=s.useRef(null),d=M(r,c,l.onScrollbarYChange);return s.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),t.jsx(fe,{"data-orientation":"vertical",...n,ref:d,sizes:o,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":q(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,g)=>{if(l.viewport){const f=l.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),ve(f,g)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&h&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:K(h.paddingTop),paddingEnd:K(h.paddingBottom)}})}})}),[Je,he]=ie(A),fe=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,sizes:a,hasThumb:n,onThumbChange:l,onThumbPointerUp:h,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:g,...f}=e,x=N(A,o),[v,R]=s.useState(null),E=M(r,b=>R(b)),P=s.useRef(null),j=s.useRef(""),_=x.viewport,z=a.content-a.viewport,W=L(u),w=L(c),D=J(g,10);function H(b){if(P.current){const y=b.clientX-P.current.left,T=b.clientY-P.current.top;d({x:y,y:T})}}return s.useEffect(()=>{const b=y=>{const T=y.target;(v==null?void 0:v.contains(T))&&W(y,z)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[_,v,z,W]),s.useEffect(w,[a,w]),U(v,D),U(x.content,D),t.jsx(Je,{scope:o,scrollbar:v,hasThumb:n,onThumbChange:L(l),onThumbPointerUp:L(h),onThumbPositionChange:w,onThumbPointerDown:L(i),children:t.jsx($.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:O(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),P.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),H(b))}),onPointerMove:O(e.onPointerMove,H),onPointerUp:O(e.onPointerUp,b=>{const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),P.current=null})})})}),B="ScrollAreaThumb",ge=s.forwardRef((e,r)=>{const{forceMount:o,...a}=e,n=he(B,e.__scopeScrollArea);return t.jsx(F,{present:o||n.hasThumb,children:t.jsx(Qe,{ref:r,...a})})}),Qe=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,style:a,...n}=e,l=N(B,o),h=he(B,o),{onThumbPositionChange:i}=h,c=M(r,g=>h.onThumbChange(g)),d=s.useRef(),u=J(()=>{d.current&&(d.current(),d.current=void 0)},100);return s.useEffect(()=>{const g=l.viewport;if(g){const f=()=>{if(u(),!d.current){const x=et(g,i);d.current=x,i()}};return i(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[l.viewport,u,i]),t.jsx($.div,{"data-state":h.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:O(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),v=g.clientX-x.left,R=g.clientY-x.top;h.onThumbPointerDown({x:v,y:R})}),onPointerUp:O(e.onPointerUp,h.onThumbPointerUp)})});ge.displayName=B;var ne="ScrollAreaCorner",xe=s.forwardRef((e,r)=>{const o=N(ne,e.__scopeScrollArea),a=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&a?t.jsx(Ge,{...e,ref:r}):null});xe.displayName=ne;var Ge=s.forwardRef((e,r)=>{const{__scopeScrollArea:o,...a}=e,n=N(ne,o),[l,h]=s.useState(0),[i,c]=s.useState(0),d=!!(l&&i);return U(n.scrollbarX,()=>{var g;const u=((g=n.scrollbarX)==null?void 0:g.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),U(n.scrollbarY,()=>{var g;const u=((g=n.scrollbarY)==null?void 0:g.offsetWidth)||0;n.onCornerWidthChange(u),h(u)}),d?t.jsx($.div,{...a,ref:r,style:{width:l,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function K(e){return e?parseInt(e,10):0}function pe(e,r){const o=e/r;return isNaN(o)?0:o}function q(e){const r=pe(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-o)*r;return Math.max(a,18)}function Ze(e,r,o,a="ltr"){const n=q(o),l=n/2,h=r||l,i=n-h,c=o.scrollbar.paddingStart+h,d=o.scrollbar.size-o.scrollbar.paddingEnd-i,u=o.content-o.viewport,g=a==="ltr"?[0,u]:[u*-1,0];return be([c,d],g)(e)}function se(e,r,o="ltr"){const a=q(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-n,h=r.content-r.viewport,i=l-a,c=o==="ltr"?[0,h]:[h*-1,0],d=Ye(e,c);return be([0,h],[0,i])(d)}function be(e,r){return o=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(o-e[0])}}function ve(e,r){return e>0&&e<r}var et=(e,r=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const l={left:e.scrollLeft,top:e.scrollTop},h=o.left!==l.left,i=o.top!==l.top;(h||i)&&r(),o=l,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function J(e,r){const o=L(e),a=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(a.current),[]),s.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(o,r)},[o,r])}function U(e,r){const o=L(r);Z(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(o)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,o])}function tt(e,r){const{asChild:o,children:a}=e;if(!o)return typeof r=="function"?r(a):r;const n=s.Children.only(a);return s.cloneElement(n,{children:typeof r=="function"?r(n.props.children):r})}var ye=ce,rt=ue,nt=xe;const Se=s.forwardRef(({className:e,children:r,...o},a)=>t.jsxs(ye,{ref:a,className:C("relative overflow-hidden",e),...o,children:[t.jsx(rt,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(we,{}),t.jsx(nt,{})]}));Se.displayName=ye.displayName;const we=s.forwardRef(({className:e,orientation:r="vertical",...o},a)=>t.jsx(te,{ref:a,orientation:r,className:C("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...o,children:t.jsx(ge,{className:"relative flex-1 rounded-full bg-border"})}));we.displayName=te.displayName;const ot=Te("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function G({className:e,variant:r,...o}){return t.jsx("div",{className:C(ot({variant:r}),e),...o})}var st="Separator",ae="horizontal",at=["horizontal","vertical"],Ne=s.forwardRef((e,r)=>{const{decorative:o,orientation:a=ae,...n}=e,l=lt(a)?a:ae,i=o?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return t.jsx($.div,{"data-orientation":l,...i,...n,ref:r})});Ne.displayName=st;function lt(e){return at.includes(e)}var je=Ne;const Ce=s.forwardRef(({className:e,orientation:r="horizontal",decorative:o=!0,...a},n)=>t.jsx(je,{ref:n,decorative:o,orientation:r,className:C("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Ce.displayName=je.displayName;const it=()=>{const[e,r]=s.useState(!1),[o,a]=s.useState({x:0,y:0}),[n,l]=s.useState(null),[h,i]=s.useState(!1),[c,d]=s.useState(!1),[u,g]=s.useState([]),[f,x]=s.useState("Why did this happen?"),[v,R]=s.useState(""),[E,P]=s.useState(!1),[j,_]=s.useState(""),z=s.useRef(null),W=s.useRef(null);s.useEffect(()=>{const m=localStorage.getItem("logtrace-events");m&&g(JSON.parse(m));const p=localStorage.getItem("logtrace-api-key");p&&_(p)},[]),s.useEffect(()=>{localStorage.setItem("logtrace-events",JSON.stringify(u))},[u]);const w=s.useCallback(m=>{const p={...m,id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString()};g(S=>[p,...S])},[]),D=s.useCallback(m=>{var S;m.getBoundingClientRect();const p=((S=m.textContent)==null?void 0:S.slice(0,50))||"";return{tag:m.tagName.toLowerCase(),id:m.id||"",classes:Array.from(m.classList),text:p.length>47?p+"...":p,element:m}},[]),H=s.useCallback(m=>{if(!e)return;const p=m.target;if(p&&!p.closest("#logtrace-overlay")&&!p.closest("#logtrace-modal")){a({x:m.clientX,y:m.clientY});const S=D(p);l(S),w({type:"move",position:{x:m.clientX,y:m.clientY},element:{tag:S.tag,id:S.id,classes:S.classes,text:S.text}})}},[e,D,w]),b=s.useCallback(m=>{if(!e)return;const p=m.target;p&&!p.closest("#logtrace-overlay")&&!p.closest("#logtrace-modal")&&w({type:"click",position:{x:m.clientX,y:m.clientY},element:n?{tag:n.tag,id:n.id,classes:n.classes,text:n.text}:void 0})},[e,n,w]),y=s.useCallback(m=>{e&&m.ctrlKey&&m.key==="d"&&(m.preventDefault(),i(!0),w({type:"debug",position:o,element:n?{tag:n.tag,id:n.id,classes:n.classes,text:n.text}:void 0}))},[e,o,n,w]);s.useEffect(()=>{if(e)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[e,y]);const T=s.useCallback(()=>{if(!n)return"";const m=n.element,p=window.getComputedStyle(m),S=["button","a","input","select","textarea"].includes(n.tag)||m.onclick!==null||p.cursor==="pointer";return`Debug this element in detail:

Element: <${n.tag}${n.id?` id="${n.id}"`:""}${n.classes.length?` class="${n.classes.join(" ")}"`:""}>
Text: "${n.text}"
Position: x:${o.x}, y:${o.y}
Interactive: ${S?"Yes":"No"}
Cursor: ${p.cursor}
Display: ${p.display}
Visibility: ${p.visibility}
Pointer Events: ${p.pointerEvents}

Consider:
1. Why might this element not be behaving as expected?
2. Are there any CSS properties preventing interaction?
3. Are there any event listeners that might be interfering?
4. What accessibility concerns might exist?
5. How could the user experience be improved?

Provide specific, actionable debugging steps and potential solutions.`},[n,o]),Q=async m=>{if(!j){alert("Please enter your OpenAI API key first");return}P(!0);try{const p=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are an expert web developer and debugger. Provide clear, actionable debugging advice."},{role:"user",content:m}],max_tokens:1e3,temperature:.7})});if(!p.ok)throw new Error(`API request failed: ${p.statusText}`);const Y=(await p.json()).choices[0].message.content;w({type:"llm_response",position:o,prompt:m,response:Y,element:n?{tag:n.tag,id:n.id,classes:n.classes,text:n.text}:void 0}),i(!1),d(!0)}catch(p){console.error("Error calling OpenAI API:",p),alert("Error getting AI response. Please check your API key and try again.")}finally{P(!1)}},Ee=()=>{g([]),localStorage.removeItem("logtrace-events")},Pe=()=>{const m=JSON.stringify(u,null,2),p="data:application/json;charset=utf-8,"+encodeURIComponent(m),S=`logtrace-${new Date().toISOString().split("T")[0]}.json`,Y=document.createElement("a");Y.setAttribute("href",p),Y.setAttribute("download",S),Y.click()},Ae=()=>{localStorage.setItem("logtrace-api-key",j)};return t.jsxs("div",{className:"min-h-screen bg-slate-900 text-green-400 font-mono relative overflow-hidden",onMouseMove:H,onClick:b,children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            linear-gradient(rgba(34, 197, 94, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(34, 197, 94, 0.1) 1px, transparent 1px)
          `,backgroundSize:"20px 20px"}})}),t.jsxs("div",{className:"relative z-10 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-cyan-400 mb-2",children:"LogTrace"}),t.jsx("p",{className:"text-green-300",children:"Mouse Cursor & Memory Log Debug Terminal"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{checked:e,onCheckedChange:r,className:"data-[state=checked]:bg-cyan-500"}),t.jsx("span",{className:e?"text-cyan-400":"text-gray-500",children:e?"ACTIVE":"INACTIVE"})]}),t.jsx(k,{onClick:()=>d(!c),variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500/10",children:"Terminal"})]})]}),t.jsx(X,{className:"bg-slate-800/50 border-cyan-500/30 mb-6 backdrop-blur-sm",children:t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-cyan-400 font-semibold mb-3",children:"OpenAI API Configuration"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(oe,{type:"password",placeholder:"Enter your OpenAI API key",value:j,onChange:m=>_(m.target.value),className:"bg-slate-900/50 border-green-500/30 text-green-400 placeholder-green-300/50"}),t.jsx(k,{onClick:Ae,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:"Save"})]})]})}),t.jsx(X,{className:"bg-slate-800/50 border-green-500/30 backdrop-blur-sm",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-cyan-400 font-semibold mb-4",children:"How to Use"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-green-300",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-cyan-300 font-medium mb-2",children:"Controls"}),t.jsxs("ul",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:"• Toggle activation with the switch above"}),t.jsx("li",{children:"• Move mouse to inspect elements"}),t.jsx("li",{children:"• Click elements to log interactions"}),t.jsxs("li",{children:["• Press ",t.jsx("kbd",{className:"bg-slate-700 px-1 rounded",children:"Ctrl+D"})," to debug"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-cyan-300 font-medium mb-2",children:"Features"}),t.jsxs("ul",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:"• Real-time element inspection overlay"}),t.jsx("li",{children:"• AI-powered debugging assistance"}),t.jsx("li",{children:"• Persistent event logging"}),t.jsx("li",{children:"• Export debugging sessions"})]})]})]})]})})]}),e&&n&&t.jsx("div",{id:"logtrace-overlay",ref:z,className:"fixed pointer-events-none z-50 transform -translate-y-full -translate-x-1/2",style:{left:o.x,top:o.y-10},children:t.jsx(X,{className:"bg-slate-900/95 border-cyan-500/50 backdrop-blur-md shadow-xl shadow-cyan-500/20",children:t.jsxs("div",{className:"p-3 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(G,{variant:"secondary",className:"bg-cyan-500/20 text-cyan-400 text-xs",children:n.tag}),n.id&&t.jsxs(G,{variant:"outline",className:"border-green-500/30 text-green-400 text-xs",children:["#",n.id]})]}),n.classes.length>0&&t.jsxs("div",{className:"text-green-300 mb-1",children:[".",n.classes.join(" .")]}),n.text&&t.jsxs("div",{className:"text-gray-300 max-w-48 truncate",children:['"',n.text,'"']}),t.jsx("div",{className:"text-cyan-300 mt-2 text-xs",children:"Ctrl+D to debug"})]})})}),h&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx(X,{id:"logtrace-modal",ref:W,className:"bg-slate-900/95 border-cyan-500/50 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-cyan-400",children:"Debug Assistant"}),t.jsx(k,{onClick:()=>i(!1),variant:"ghost",className:"text-gray-400 hover:text-white",children:"✕"})]}),n&&t.jsxs("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-lg border border-green-500/30",children:[t.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Element Context"}),t.jsxs("div",{className:"text-sm text-green-300",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Tag:"})," ",n.tag]}),n.id&&t.jsxs("div",{children:[t.jsx("strong",{children:"ID:"})," ",n.id]}),n.classes.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Classes:"})," ",n.classes.join(", ")]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Position:"})," x:",o.x,", y:",o.y]}),n.text&&t.jsxs("div",{children:[t.jsx("strong",{children:"Text:"}),' "',n.text,'"']})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Quick Debug"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(oe,{value:f,onChange:m=>x(m.target.value),className:"bg-slate-800 border-green-500/30 text-green-400",placeholder:"Quick debugging question..."}),t.jsx(k,{onClick:()=>Q(f),disabled:E||!j,className:"bg-green-600 hover:bg-green-700 text-white",children:E?"Analyzing...":"Debug"})]})]}),t.jsx(Ce,{className:"bg-green-500/30"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Advanced Debug"}),t.jsx(le,{value:v||T(),onChange:m=>R(m.target.value),className:"bg-slate-800 border-green-500/30 text-green-400 min-h-32",placeholder:"Detailed debugging prompt..."}),t.jsx(k,{onClick:()=>Q(v||T()),disabled:E||!j,className:"bg-cyan-600 hover:bg-cyan-700 text-white mt-2",children:E?"Analyzing...":"Advanced Debug"})]})]})]})})}),c&&t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-96 bg-slate-900/95 border-t border-green-500/50 backdrop-blur-md z-40",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-green-500/30",children:[t.jsx("h3",{className:"text-cyan-400 font-bold",children:"Memory Terminal"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{onClick:Pe,variant:"outline",size:"sm",className:"border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:"Export"}),t.jsx(k,{onClick:Ee,variant:"outline",size:"sm",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Clear"}),t.jsx(k,{onClick:()=>d(!1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:"✕"})]})]}),t.jsx(Se,{className:"h-80 p-4",children:t.jsx("div",{className:"space-y-2",children:u.length===0?t.jsx("div",{className:"text-gray-500 text-center py-8",children:"No events logged yet. Enable LogTrace and start interacting with the page."}):u.map(m=>t.jsxs("div",{className:"text-xs border-l-2 border-green-500/30 pl-3 py-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(G,{variant:"secondary",className:`text-xs ${m.type==="move"?"bg-blue-500/20 text-blue-400":m.type==="click"?"bg-yellow-500/20 text-yellow-400":m.type==="debug"?"bg-purple-500/20 text-purple-400":"bg-green-500/20 text-green-400"}`,children:m.type.toUpperCase()}),t.jsx("span",{className:"text-gray-400",children:new Date(m.timestamp).toLocaleTimeString()}),m.element&&t.jsxs("span",{className:"text-cyan-300",children:[m.element.tag,m.element.id&&`#${m.element.id}`]})]}),m.prompt&&t.jsxs("div",{className:"text-green-300 mt-1",children:[t.jsx("strong",{children:"Prompt:"})," ",m.prompt]}),m.response&&t.jsxs("div",{className:"text-green-200 mt-2 p-2 bg-slate-800/50 rounded text-sm",children:[t.jsx("strong",{children:"AI Response:"}),t.jsx("br",{}),m.response]})]},m.id))})})]})]})},I=document.createElement("div");I.id="logtrace-extension-root";I.style.position="fixed";I.style.top="0";I.style.left="0";I.style.width="100vw";I.style.height="100vh";I.style.zIndex="2147483647";document.body.appendChild(I);const ct=ke(I);ct.render(t.jsx(it,{}));
