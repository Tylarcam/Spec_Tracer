<!DOCTYPE html>
<html>
<head>
    <title>YouTube Video Downloader</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .input-section {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: #333;
            color: white;
        }
        button {
            background: #ff0000;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #cc0000;
        }
        .video-player {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        video {
            width: 100%;
            max-height: 400px;
            border-radius: 5px;
        }
        .instructions {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .url-display {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            word-break: break-all;
        }
        .error {
            color: #ff6b6b;
            background: #2a2a2a;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>YouTube Video Downloader</h1>
        
        <div class="input-section">
            <h3>Step 1: Enter YouTube URL</h3>
            <input type="text" id="youtubeUrl" placeholder="https://www.youtube.com/watch?v=g9PNE-sHCb8" value="https://www.youtube.com/watch?v=g9PNE-sHCb8">
            <button onclick="extractVideoInfo()">Extract Video Info</button>
        </div>

        <div class="instructions">
            <h3>Manual Method (If automatic extraction doesn't work):</h3>
            <ol>
                <li>Go to the YouTube video page</li>
                <li>Right-click â†’ Inspect Element</li>
                <li>Go to Network tab</li>
                <li>Refresh page or seek video</li>
                <li>Look for .mp4, .webm, or .m3u8 files</li>
                <li>Copy the video URL and paste it below</li>
            </ol>
        </div>

        <div class="input-section">
            <h3>Step 2: Direct Video URL (Manual Method)</h3>
            <input type="text" id="directVideoUrl" placeholder="Paste the video URL you found in Network tab here">
            <button onclick="loadVideo()">Load Video</button>
        </div>

        <div class="video-player" id="videoPlayer" style="display: none;">
            <h3>Video Player</h3>
            <video id="videoElement" controls>
                Your browser does not support the video tag.
            </video>
            <p><strong>Right-click on the video above and select "Save video as..." to download</strong></p>
        </div>

        <div id="errorDisplay"></div>
    </div>

    <script>
        function extractVideoInfo() {
            const url = document.getElementById('youtubeUrl').value;
            const errorDiv = document.getElementById('errorDisplay');
            
            if (!url.includes('youtube.com/watch')) {
                errorDiv.innerHTML = '<div class="error">Please enter a valid YouTube URL</div>';
                return;
            }

            errorDiv.innerHTML = '<div class="instructions">Video URL extraction attempted. If this doesn\'t work, use the manual method above to find the video URL in the Network tab.</div>';
            
            // Try to extract video ID and create a potential direct URL
            const videoId = url.match(/[?&]v=([^&]+)/)?.[1];
            if (videoId) {
                errorDiv.innerHTML += `<div class="url-display">Video ID: ${videoId}</div>`;
                errorDiv.innerHTML += '<div class="instructions">Note: YouTube doesn\'t provide direct video URLs through JavaScript due to security restrictions. Use the manual method to find the actual video URL.</div>';
            }
        }

        function loadVideo() {
            const videoUrl = document.getElementById('directVideoUrl').value;
            const videoElement = document.getElementById('videoElement');
            const videoPlayer = document.getElementById('videoPlayer');
            const errorDiv = document.getElementById('errorDisplay');

            if (!videoUrl) {
                errorDiv.innerHTML = '<div class="error">Please enter a video URL</div>';
                return;
            }

            // Clear previous error
            errorDiv.innerHTML = '';

            // Update video source
            videoElement.innerHTML = `<source src="${videoUrl}" type="video/mp4">`;
            videoElement.load();

            // Show video player
            videoPlayer.style.display = 'block';

            // Test if video loads
            videoElement.onerror = function() {
                errorDiv.innerHTML = '<div class="error">Failed to load video. The URL might be expired or invalid. Try getting a fresh URL from the Network tab.</div>';
            };

            videoElement.onloadeddata = function() {
                errorDiv.innerHTML = '<div class="instructions">Video loaded successfully! Right-click on the video to save it.</div>';
            };
        }

        // Auto-fill the URL when page loads
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('v');
            if (videoId) {
                document.getElementById('youtubeUrl').value = `https://www.youtube.com/watch?v=${videoId}`;
            }
        };
    </script>
</body>
</html> 